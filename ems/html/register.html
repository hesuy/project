<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, minimal-ui">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="format-detection" content="telephone=no">
<title>中国邮政</title>
<meta name="description" content="EMS">
<meta name="keywords" content="EMS">
<link rel="stylesheet" href="../dist/css/main.min.css">
<script>
	var deviceWidth = document.documentElement.clientWidth;
	deviceWidth = deviceWidth >640 ? 640 : deviceWidth;
	document.documentElement.style.fontSize = deviceWidth/6.4 +'px';
</script>
</head>
<body>
	<header class="bar bar-header">
		<nav>
			<ul class="bar-header_nav">
				<li class="aside-menu">
					<a href="javascript:void(0);" class="open-aside-menu">
						<span class="icon icon-menu"></span>
					</a>
				</li>
				<li class="login">
					<a href="#">登录</a>
					<a href="#">注册</a>
				</li>
				<li class="logo">
					<a href="javascript:void(0);" class="header-logo"></a>
				</li>
				<li class="phone">
					<a href="javascript:void(0);">
						<span class="icon icon-phone"></span>
					</a>
				</li>
				<li class="bag">
					<a href="javascript:void(0);">
						<span class="icon icon-bag"></span>
						<span class="badge">9+</span>
					</a>
				</li>
			</ul>
		</nav>
	</header>
	<section class="container" role="scrollable">
		<nav class="crumbs">
			<a href="#"></a>
			<a href="#">我的账户</a>
		</nav>

		<div class="content">
			<div class="segmented-control">
				<a class="control-item" href="login.html">登录</a>
				<a class="control-item active" href="register.html">快速注册</a>
			</div>

			<form class="form p10" action="" method="post">
				<div class="form-group inset">
					<label>邮箱：</label>
					<div class="control-group">
						<input id="email" type="email" class="form-control" placeholder="*请输入您的邮箱" value="">
					</div>
				</div>
				<div class="form-group inset">
					<label>手机：</label>
					<div class="control-group">
						<input id="mobile" type="tel" class="form-control" maxlength="11" placeholder="*请输入您的手机号码" value="">
					</div>
				</div>
				<div class="form-group inset">
					<label>验证码：</label>
					<div class="control-group">
						<input id="" type="tel" class="form-control reset" placeholder="请输入验证码" value="">
						<button id="btn_code" class="btn-code">获取验证码</button>
					</div>
				</div>
				<div class="form-group inset">
					<label>密码：</label>
					<div class="control-group">
						<input id="pwd" type="password" class="form-control error" placeholder="*请输入您的密码" value="">
					</div>
				</div>
				<div class="form-group inset inset-lg">
					<label>确认密码：</label>
					<div class="control-group">
						<input id="pwd2" type="password" class="form-control" placeholder="*请再次输入您的密码" value="">
					</div>
				</div>
				<div class="form-group">
					<label><input type="checkbox" value="1">我同意</label><a class="green" href="javascript:void(0)" act="active@#modal-agreement">《中国邮政手机商城服务协议》</a>
				</div>
				<div class="form-group submit text-center">
					<button type="submit" class="btn btn-submit btn-block btn-primary">确认注册</button>
				</div>
			</form>

		</div>

	</section>
<script src="../libs/zepto.min.js"></script>
<script>
	//邮箱
	function checkEmail(){
        var $email = $('#email');
        var reg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
        if($email.val()!="" && !reg.test($email.val())){  
            $email.addClass("error");
            $email.val("").attr("placeholder","请输入正确的邮箱");
            return false;
         }else{
            $email.removeClass("error");
            return true;
         }
    }
	//手机号
	function checkMobile(){
    var $mobile = $('#mobile');
    if($mobile.val()==""||$mobile.val()==null||$mobile.val()==undefined){
        $mobile.addClass("error");
        return false;
    }else{
        var reg=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/; 
        if(!reg.test($mobile.val())){
            $mobile.focus();
            $mobile.addClass("error");
            $mobile.val("").attr("placeholder","请输入正确的手机号码");
            return false;
         }else{
            $mobile.removeClass("error");
            return true;
         }
    }
}
	$('#btn_code').on('click', function(event) {
        var time = 60;
        var $this = $(this);

        //get the code by ajax

        if (checkMobile()) {
        	debugger;
            $this.attr('disabled', 'disabled');
            var timer = setInterval(function() {
                time--;
                $this.addClass('disabled').html(time + '秒后获取');
                if (time == 0) {
                    $this.removeAttr('disabled');
                    time = 60;
                    clearInterval(timer);
                    $this.removeClass('disabled').html('获取验证码');
                }
            }, 1000);
        }
	});
</script>
</body>
</html>