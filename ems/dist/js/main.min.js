!function(t){t.fn.androidKeyboard=function(n){if(!t(this).size())return!1;var e=t.extend({animation:"",delay:200},n),a=t(this),o=['input[type="text"]','input[type="search"]','input[type="password"]','input[type="datetime"]','input[type="datetime-local"]','input[type="date"]','input[type="month"]','input[type="time"]','input[type="week"]','input[type="number"]','input[type="email"]','input[type="url"]','input[type="tel"]','input[type="color"]',"textarea"];return e.delayHandle=null,e.initialScreenSize=window.innerHeight,e.fn={In:function(){e.animation?(a.removeClass(e.animation+"In "+e.animation+"Out"),a.addClass(e.animation+"Out")):a.show()},Out:function(){clearTimeout(e.delayHandle),e.animation?(a.removeClass(e.animation+"In "+e.animation+"Out"),a.addClass(e.animation+"In")):a.hide()}},window.addEventListener("resize",function(){window.innerHeight<e.initialScreenSize?e.fn.Out():e.fn.In()},!1),t(document).on("focus",o.join(","),function(){e.fn.Out()}).on("blur",o.join(","),function(){e.delayHandle=setTimeout(function(){e.fn.In()},e.delay)}),this}}($);var E=function(t){var n=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!0}catch(t){}return t}(),e={clickstart:"touchstart",clickmove:"touchmove",click:"touchend",mousemove:"touchmove",mousedown:"touchstart"};return t=n&&e[t]?e[t]:t},page=page||{};page.tpl=function(t,n){return t=t.replace(/\{(\w+)\}/g,function(t,e){return n[e]})},page.scrollable=function(){return window.addEventListener("touchmove",function(t){t.preventDefault()},!1),$(document).on("touchmove",'[role="scrollable"]',function(t){t.stopPropagation()}),this},page.minimal=function(){return setTimeout(function(){window.scrollTo(0,1)},0),this},page.asideMenu=function(){$(document).on(E("click"),".open-aside-menu",function(){return $("body").addClass("toggle-aside"),!1}).on(E("click"),".close-aside-menu",function(){return setTimeout(function(){$("body").removeClass("toggle-aside")},400),!1})},page.act=function(){return $(document).on(E("click"),"[act]",function(t){var n=$(this).attr("act");if(n.indexOf("@")>-1){n=n.split("@");var e=n[1];switch(n=n[0]){case"active":$(e).addClass("active");break;case"inactive":$(e).removeClass("active")}}return!1}),this},page.standalone=function(){return"standalone"in window.navigator&&window.navigator.standalone&&$("a").on("click",function(t){t.preventDefault();var n=$(this).attr("href");void 0!=n&&"#"!=n.substr(0,1)&&void 0==$(this).attr("data-method")&&(window.location=n)}),this},page.toggleFooter=function(){function t(t,n){return 180*Math.atan2(n,t)/Math.PI}function n(n,e,a,o){var i=e-o,r=a-n,u=0;if(Math.abs(r)<2&&Math.abs(i)<2)return u;var c=t(r,i);return c>30&&c<150?u=1:c<-30&&c>-150&&(u=2),u}function e(t){if(t.hasClass("noswipe"))return!1;switch(n(r,u,endX,endY)){case 1:(0==d||d>=c)&&setTimeout(function(){t.removeClass("androidKeyboardOut"),t.addClass("androidKeyboardIn")},50);break;case 2:(0==d||d>=c)&&setTimeout(function(){t.removeClass("androidKeyboardIn"),t.addClass("androidKeyboardOut")},50)}}function a(t){try{r=t.touches[0].pageX,u=t.touches[0].pageY}catch(t){alert("touchSatrtFunc："+t.message)}}function o(t){try{/(Android)/i.test(navigator.userAgent)&&(endX=t.changedTouches[0].pageX,endY=t.changedTouches[0].pageY,e($('[role="barfooter"]')))}catch(t){alert("touchMoveFunc："+t.message)}}function i(t){try{endX=t.changedTouches[0].pageX,endY=t.changedTouches[0].pageY,e($('[role="barfooter"]'))}catch(t){alert("touchEndFunc："+t.message)}}var r,u,c=window.innerHeight,d=0;window.addEventListener("resize",function(){d=window.innerHeight},!1),function(){document.addEventListener("touchstart",a,!1),document.addEventListener("touchmove",o,!1),document.addEventListener("touchend",i,!1)}()},page.load=function(){return this.act(),this.asideMenu(),this.scrollable(),this.toggleFooter(),$('[role="barfooter"]').androidKeyboard({animation:"androidKeyboard"}),$(document).on("touchmove",".aside-menu",function(t){t.preventDefault()},!1),this},page.load();